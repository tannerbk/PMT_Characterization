PMT Characterization
====================

After fetching traces from the scope, this code loops through those traces and calculates the charge spectra. It writes the charge histogram, as well as many others to a root file. Syntax to run the code: ./PMTANALYSIS_C textfile.txt histo.root 1251. textfile.txt is a text file listing the hdf5 files for analysis. histo.root is where the histograms are written. 1251 is the length of the pedestal window in time bins. For my data the time bins are 0.2 ns long and there are 2502 of them (500ns window) so using 1251 time bins uses the first half of the window to correct for the pedestal and the second half of the window to calculate the charge distribution of the signal. The other histograms include average waveforms for both channels and the pedestal corrections for both channels. The channels to analyze are hard coded in and can be easily changed. The pedestal correction is done by finding the mean over the first half of the trace. However, if any dark pulses are found in that half of the trace (dark pulses identified using a hard cut on the 'variance' of that part of the waveform) then the trace is thrown out as having a bad pedestal. The timing histogram looks at the time difference between the peak of the trigger and the peak of the PMT of interests pulse. 